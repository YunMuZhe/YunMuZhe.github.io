# 软链接和硬链接

> 此文章参考：https://www.cnblogs.com/HeiDi-BoKe/p/12059170.html

**Linux中包括两种链接：硬链接(Hard Link)和软链接(Soft Link),软链接又称为符号链接（Symbolic link）。**

## 硬链接(ln src dest)

硬链接相当于一个指针，指向原文件索引节点，而且系统不为其分配inode，用ln命令来创建硬链接，但是指过去之后，原来文件的inode连接数由最初的1变为了2，硬链接和原来文件使用了相同的inode，所以硬链接显示的文件大小和原文件相同。

因此删除原文件并不会影响硬链接的使用，文件仍然存在。

但是硬链接不能用于目录，只适用于文件，而且不能跨文件系统，不可以在不同文件系统的文件间建立硬链接。

## 软链接(ln -s src dest)

符号链接是对一个文件的间接指针。

创建软链接之后，系统会分配一个inode给他，里面存放指向原文件的路径，因此删除原文件会对软链接产生影响，但是原文件重新创建后软链接依然能继续使用。

由于使用的不是同一个inode，所以显示的文件大小与原文件不同。

但是软链接可以与任意位置的文件建立（包括目录），这是硬链接做不到的。

## 对比

| 功能支持情况                   | 软链接                          | 硬链接                 |
| ------------------------------ | ------------------------------- | ---------------------- |
| 是否可以指向目录               | 可以                            | 不可以，只可以指向文件 |
| 删除原文件后是否可用           | 不可用                          | 可用                   |
| 是否可用跨文件系统创建         | 可以                            | 不可以                 |
| 显示的文件大小与原文件是否相同 | 不相同，显示的是自己inode的大小 | 相同，显示原文件的大小 |

